!function(){var n="https://microsoft-apiappb806d628f7474cc297f3b2d8c31d22d7.azurewebsites.net/",t="http://shortenme.azurewebsites.net/";window.Constants={AppName:"shortenMe",ApiLocation:n+"api/LinkInfo/",AnalyticsApiLocation:n+"api/Analytics/",WebAppLocation:t+"#/"};var o=angular.module(window.Constants.AppName,["ngRoute"]);o.config(["$routeProvider",function(n){n.when("/",{templateUrl:"Resources/Scripts/App/partials/linkInfo.html",controller:"linkInfoController"}).when("/:shortenedLink",{templateUrl:"Resources/Scripts/App/partials/redirectFromShortenedLink.html",controller:"redirectFromShortenedLinkController"}).when("/analytics/:shortenedLink",{templateUrl:"Resources/Scripts/App/partials/analytics.html",controller:"linkAnalyticsController"}).otherwise({redirectTo:"/"})}])}(),function(){var n=angular.module(window.Constants.AppName);n.controller("linkAnalyticsController",["$scope","$routeParams","$http",function(n,t,o){var e=t.shortenedLink;n.message="Running analytics. Please wait for a moment...",o({method:"GET",url:window.Constants.AnalyticsApiLocation,params:{shortenedLink:e}}).then(function(t){n.message="Analytics result for "+e,n.analyticsModel={totalHits:t.data.TotalHits,totalHitsByBrowsers:t.data.TotalHitsByBrowsers,totalHitsInLast7Days:t.data.TotalHitsInLast7Days}},function(t){n.message="Analytics failed. Please re-verify your input.",n.analyticsModel=null})}])}(),function(){var n=angular.module(window.Constants.AppName);n.controller("linkInfoController",["$scope","$http",function(n,t){n.fullLinkInfo="",n.submitForm=function(){n.shortenedLink="Please wait while we are shortening your link...",t({method:"POST",url:window.Constants.ApiLocation,data:{FullLink:n.fullLinkInfo}}).then(function(t){n.shortenedLink="Your shortened link (will be available for the next 24 hours) is: "+window.Constants.WebAppLocation+t.data,n.errorMessage=""},function(t){n.errorMessage="Shortening failed. Please re-verify your link input.",n.shortenedLink=""})}}])}(),function(){var n=angular.module(window.Constants.AppName);n.controller("redirectFromShortenedLinkController",["$scope","$http","$window","$location","$routeParams",function(n,t,o,e,a){n.shortenedLink=a.shortenedLink,t({method:"GET",url:window.Constants.ApiLocation,params:{shortenedLink:n.shortenedLink}}).then(function(n){o.location.href=n.data},function(n){e.path("/")})}])}();